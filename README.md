Необходимо разработать REST API для TaskManager.

Основные возможности:
– авторизация пользователя
– получение/редактирование данных текущего пользователя
– создание задачи
– получение состояния заданного задания
– получение результатов выполнения задачи

Пользователь авторизуется, используя e-mail + password. Идентификация пользователя
происходит по сгенерированному токену, который передается в заголовок Authorization.
Данные передаются в формате JSON
Ошибки валидации данных возвращают статус 422 с идентификатором и описанием ошибки
(правила валидации выбираете сами)
Ошибки авторизации возвращают статус 401
Ошибки доступа возвращают статус 403
При успешной обработке – статус 200
API должно быть разработано на PHP + MySQL + Apache без использования фреймворков. У
приложения нет ограничений по доступу и настройки среды.
В системе должно быть определено две роли administrator и user.
Администратор имеет право совершать любые действия в системе, пользователь может
только совершать действия по задачам. Неавторизированный пользователь не может
выполнять никаких действий в системе.
При авторизации пользователь получает токен и дальнейшая проверка идет только по токену.
Время жизни токена должно указываться в конфигурационном файле в секундах. При любых
действиях пользователя жизнь токена увеличивается до времени жизни.
Пароли пользователей не должны храниться и передаваться в открытом виде.
В системе изначально должен быть пользователь с правами администратора: предоставить
его логин (email) и пароль.
БД должна быть выгружена в sql-файл.

В системе доступны две задачи:
1. get_price
на входе получает число с плавающей точкой и язык вида «RU» или «UA», на выход:
сумма прописью, например, 1025.43 – “тысяча двадцать пять грн 43 коп” для выбранного
языка
2. fibonacci
на входе получает целое число, на выход: значение числа Фибоначчи для переданного
параметра. Расчет числа Фибоначчи должен быть выполнен по формуле: F(n) = F(n-1)
+ F(n-2), F(0) = 0, F(1) = 1
3. sleep
реализует следующий цикл:
for ($i = 0; $i < 100; $i++) sleep(1000);
результат выполнения: строка “finshed”
Задачи должны быть оптимизированы для максимально быстрого завершения.

Для реализации необходимо использовать ООП
API реализует следующие задачи:
1. Login user
/api/login
POST
{“email”: ..., “password”: ...}
answer
{“token”: “...”}
2. Get user info
/api/user/{id}
GET
Headers: {Authorization: “token”}
answer
{“email”: …, “name”: …, “phone”: …}
3. Update user info
/api/user/{id}
PATCH
Headers: {Authorization: “token”}
Body
{“email”: …, “name”: …, “phone”: …, “access”: …}
Answer
{“user_id”: …, “created_at”: …, user: {“email”: …, “name”: …, “phone”:
…, “access”: …}}
4. Add user
/api/user
POST
Headers: {Authorization: “token”}
Body
{“email”: …, “name”: …, “phone”: …, “access”: …}
Answer
{“user_id”: …, “created_at”: …, user: {“email”: …, “name”: …, “phone”:
…, “access”: …}}
5. Start task
/api/task
POST
Headers: {Authorization: “token”}
Body
{“task”: “task_name”, params: {“param1”: …, … , “paramN”: ...}}
Answer
{“id”: “started_task_id”}
6. Get task status
/api/task/{id}
GET
Headers: {Authorization: “token”}
Answer
{“status”: “pending | done”, “result”: ...}
Требования к БД: Поля таблиц должны содержать комментарии с описанием, индексы
должны содержать комментарии с обоснованием добавления индекса. По ключам и
ограничениям необходимо описание с обоснованием добавления данного условия, данный
описание необходимо разместить в комментарии к таблице.
